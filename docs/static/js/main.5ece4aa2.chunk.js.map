{"version":3,"sources":["components/account/Login.jsx","config/constant.js","components/commons/ContentTitle.jsx","images/default2.png","components/products/ProductCard.jsx","components/commons/ContentLoading.jsx","firebase/config.js","firebase/productFirebase.js","components/products/ProductsList.jsx","components/products/ProductView.jsx","routers/ProductsRouter.jsx","routers/AppRouter.jsx","FoodApp.jsx","index.js"],"names":["Login","constantsApp","ContentTitle","title","className","ProductCard","id","img","name","description","price","to","src","imgDefault","alt","ContentLoading","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","collection","db","collectionComments","initialState","data","loading","error","productInterface","ProductsList","history","console","log","useState","state","setState","isMounted","useRef","useEffect","a","get","querySnapshot","products","forEach","product","push","current","getproducts","useGetAllProducts","map","item","ProductView","productId","match","params","where","snap","useGetSingleProduct","comments","useGetComments","loadingComments","author","comment","rate","ProductsRouter","exact","path","component","AppRouter","FoodApp","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5ece4aa2.chunk.js","sourcesContent":["import React from 'react'\n\nexport const Login = () => {\n    return (\n        <h1>\n          Inicio de sesi√≥n  \n        </h1>\n    )\n}\n","export const constantsApp = {\n\t//RUTAS\n\tROUTE_PRODUCTS: '/productos',\n\tROUTE_PRODUCT_VIEW: '/productos/:productId',\n\tROUTE_PRODUCT_CREATE: '/productos/:action',\n\tROUTE_LOGIN: '/iniciar-sesion',\n\tROUTE_ACCOUNT: '/mi-cuenta',\n\tROUTE_ERROR: '/error',\n\n\t//ACCIONES A EJECUTAR EN EL CRUD\n\tACTION_CREATE: 'crear',\n\tACTION_EDIT: 'editar',\n\n\t//ENDPOINTS\n\tENDPOINT_PRODUCT_LIST: 'data/App.json',\n};\n","import React from 'react';\n\nexport const ContentTitle = ({title}) => {\n  return (\n    <>\n      <h1>{title || 'Lista de productos'}</h1>\n      <hr className='my-2' />\n    </>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/default2.fda7413f.png\";","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { constantsApp } from '../../config/constant';\n\nimport imgDefault from '../../images/default2.png';\n\nexport const ProductCard = ({ id, img, name, description, price }) => {\n  return (\n    <article key={id} className={`product-article`}>\n      <Link to={`${constantsApp.ROUTE_PRODUCTS}/${id}`}>\n        <img src={img || imgDefault} alt={name} />\n      </Link>\n      <div className={`info`}>\n        <div className='title'>\n          <h3>{name}</h3>{' '}\n          <h3>\n            <span>+</span>\n          </h3>\n        </div>\n        <p>${price}</p>\n        <p>{description}</p>\n      </div>\n\n      <div className='link'>\n        <Link to={`${constantsApp.ROUTE_PRODUCTS}/${id}`}>\n          Ver comentarios...\n        </Link>\n      </div>\n    </article>\n  );\n};\n","import React from 'react'\n\nexport const ContentLoading = () => {\n    return (\n        <div>\n            Cargando\n        </div>\n    )\n}\n","import firebase from 'firebase/app';\nimport 'firebase/firestore';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyDpF1485ykFJf8D55s4OSvu9iQwDYHAzus',\n  authDomain: 'food-aap-830c9.firebaseapp.com',\n  projectId: 'food-aap-830c9',\n  storageBucket: 'food-aap-830c9.appspot.com',\n  messagingSenderId: '1085004078245',\n  appId: '1:1085004078245:web:bd6d1172b03f47e100c14c',\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nexport default firebase.firestore();\n","import { useState, useEffect, useRef } from 'react';\nimport db from './config';\nconst collection = db.collection('products');\nconst collectionComments = db.collection('comments');\n\nconst initialState = {\n  data: null,\n  loading: true,\n  error: null,\n};\n\nconst productInterface = {\n  id: null,\n  name: '',\n  description: '',\n  price: null,\n};\n\nexport const useGetAllProducts = () => {\n  //Ref para evitar que se genere un error al desmontarse un componente antes que la peticion responda\n  const [state, setState] = useState(initialState);\n  const isMounted = useRef(true);\n\n  useEffect(() => {\n    try {\n      async function getproducts() {\n        const querySnapshot = await collection.get();\n        const products = [];\n        querySnapshot.forEach((product) => {\n          products.push({\n            id: product.id,\n            ...product.data(),\n          });\n        });\n        /**\n         * Validacion que evita que se mute el estado en caso que el componente que llamo este hook sea desmontado\n         */\n        if (isMounted.current) {\n          setState({\n            data: products,\n            loading: false,\n            error: null,\n          });\n        }\n      }\n      getproducts();\n    } catch (error) {\n      console.log('eerro catch');\n      setState({\n        data: null,\n        loading: false,\n        error: error,\n      });\n    }\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  return state;\n};\n\nexport const useGetSingleProduct = (id) => {\n  //Ref para evitar que se genere un error al desmontarse un componente antes que la peticion responda\n  const [state, setState] = useState({\n    data: productInterface,\n    loading: true,\n    error: null,\n  });\n  const isMounted = useRef(true);\n\n  /**\n   * Validacion que evita que se mute el estado en caso que el componente que llamo este hook sea desmontado\n   */\n  useEffect(() => {\n    try {\n      async function getproducts() {\n        const querySnapshot = await collection.where('id', '==', id).get();\n        querySnapshot.forEach((snap) => {\n          if (isMounted.current) {\n            setState({\n              data: snap.data(),\n              loading: false,\n              error: null,\n            });\n          }\n        });\n      }\n      getproducts();\n    } catch (error) {\n      setState({\n        data: null,\n        loading: false,\n        error: error,\n      });\n    }\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  return state;\n};\n\nexport const useGetComments = (id) => {\n  //Ref para evitar que se genere un error al desmontarse un componente antes que la peticion responda\n  const [state, setState] = useState({\n    data: productInterface,\n    loading: true,\n    error: null,\n  });\n  const isMounted = useRef(true);\n\n  /**\n   * Validacion que evita que se mute el estado en caso que el componente que llamo este hook sea desmontado\n   */\n  useEffect(() => {\n    try {\n      const comments = [];\n      async function getproducts() {\n        const querySnapshot = await collectionComments\n          .where('productId', '==', id)\n          .get();\n        querySnapshot.forEach((snap) => {\n          comments.push(snap.data());\n        });\n        if (isMounted.current) {\n          setState({\n            data: comments,\n            loading: false,\n            error: null,\n          });\n        }\n      }\n      getproducts();\n    } catch (error) {\n      setState({\n        data: null,\n        loading: false,\n        error: error,\n      });\n    }\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  return state;\n};\n\nexport const useUpdateProduct = (payload) => {\n  const action = () => {\n    setState({\n      ...state,\n      loading: true,\n      error: null,\n    });\n    collection\n      .doc('CXQKHmGRIKbS6gKR94Fv')\n      .update(payload)\n      .then(() => {\n        setState({\n          ...state,\n          loading: false,\n          error: null,\n        });\n      })\n      .catch(() => {\n        setState({\n          ...state,\n          loading: false,\n          error: 'Ocurrio un error',\n        });\n        console.log('error al actualizar');\n      });\n  };\n  const [state, setState] = useState({\n    action,\n    loading: false,\n    error: null,\n  });\n\n  return state;\n};\n\n/* add collection\n        .add({ name: 'probandpo', description: 'probando desc' })\n        .then((ref) => {\n          ref.set({ id: ref.id }, { merge: true }).then(() => {\n            console.log('Your extra id field has been created');\n          });\n        }); */\n","import React from 'react';\n\n//Components\nimport { ContentTitle } from '../commons/ContentTitle';\nimport { ProductCard } from './ProductCard';\nimport { ContentLoading } from '../commons/ContentLoading';\n\n//config\nimport { constantsApp } from '../../config/constant';\n\n//hooks\nimport { useGetAllProducts } from '../../firebase/productFirebase';\n\nexport const ProductsList = ({ history }) => {\n  console.log('render Products List');\n\n  const { data, loading, error } = useGetAllProducts(); //useFetch(constantsApp.ENDPOINT_PRODUCT_LIST);\n  if (error) history.push(constantsApp.ROUTE_ERROR);\n\n  return (\n    <>\n      <ContentTitle />\n      <div className='content'>\n        {!loading ? (\n          <>\n            {data.map((item) => {\n              return <ProductCard key={item.id} {...item} />;\n            })}\n          </>\n        ) : (\n          <>\n            <ContentLoading />\n          </>\n        )}\n      </div>\n    </>\n  );\n};\n","import React from 'react';\n//components\nimport { ContentLoading } from '../commons/ContentLoading';\nimport { ContentTitle } from '../commons/ContentTitle';\n//hooks\nimport {\n  useGetSingleProduct,\n  useGetComments,\n} from '../../firebase/productFirebase';\n//resource\nimport imgDefault from '../../images/default2.png';\n\nexport const ProductView = ({\n  match: {\n    params: { productId },\n  },\n}) => {\n  const {\n    data: { id, name, description, price },\n    loading,\n    error,\n  } = useGetSingleProduct(productId);\n\n  const {\n    data,\n    loading: loadingComments,\n    error: errorComments,\n  } = useGetComments(productId);\n\n  return (\n    <>\n      {!loading ? (\n        <>\n          <ContentTitle title={name} />\n          <section className='single-content'>\n            <img src={imgDefault} alt={name} />\n            <h4>${price}</h4>\n            <p>{description}</p>\n          </section>\n          <hr />\n          {!loadingComments ? (\n            <section className='comments'>\n              {data.map(({ author, comment, rate }) => {\n                return (\n                  <div className='comment my-2'>\n                    <div className=\"profile\">\n                      <div className='profile-img'></div>\n                      <h5>{author}</h5>\n                    </div>\n                    <p>{comment}</p>\n                  </div>\n                );\n              })}\n            </section>\n          ) : (\n            <ContentLoading />\n          )}\n        </>\n      ) : (\n        <ContentLoading />\n      )}\n    </>\n  );\n};\n","import React from 'react';\nimport { Link, Route, Switch } from 'react-router-dom';\nimport { ProductsList } from '../components/products/ProductsList';\nimport { ProductView } from '../components/products/ProductView';\nimport { constantsApp } from '../config/constant';\n\nexport const ProductsRouter = () => {\n  return (\n    <>\n      <header className='product-banner'>\n        <Link to={constantsApp.ROUTE_PRODUCTS} className='product-title'>\n          Valhalla Food\n        </Link>\n      </header>\n      <hr />\n\n      <section className='product-section'>\n        <Switch>\n          <Route\n            exact\n            path={constantsApp.ROUTE_PRODUCTS}\n            component={ProductsList}\n          />\n          <Route\n            exact\n            path={constantsApp.ROUTE_PRODUCT_VIEW}\n            component={ProductView}\n          />\n        </Switch>\n      </section>\n    </>\n  );\n};\n","import React from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from 'react-router-dom';\nimport { Login } from '../components/account/Login';\nimport { constantsApp } from '../config/constant';\nimport { ProductsRouter } from './ProductsRouter';\n\nexport const AppRouter = () => {\n  return (\n    <Router>\n      <div className='main'>\n        <Switch>\n          <Route\n            path={constantsApp.ROUTE_PRODUCTS}\n            component={ProductsRouter}\n          />\n          <Route path={constantsApp.ROUTE_LOGIN} component={Login} />\n          <Redirect to={constantsApp.ROUTE_PRODUCTS} />\n        </Switch>\n      </div>\n    </Router>\n  );\n};\n","import React from 'react';\nimport { AppRouter } from './routers/AppRouter';\n\nimport './styles/styles.scss';\n\nexport const FoodApp = () => {\n\treturn (\n\t\t<>\n\t\t\t<AppRouter />\n\t\t</>\n\t);\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { FoodApp } from './FoodApp';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<FoodApp />\n\t</React.StrictMode>,\n\tdocument.getElementById('root'),\n);\n"],"sourceRoot":""}